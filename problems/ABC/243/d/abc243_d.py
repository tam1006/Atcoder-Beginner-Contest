N, X = map(int, input().split())
S = input()

# length = len(bin(X)) - 2
for i in range(N):
    if S[i] == 'U':
        if not X == 1:
            X = X >> 1
            # length -= 1
    elif S[i] == 'L':
        # if length < 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999:
        X = X << 1
        # length += 1
    else:
        # if length < 9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999:
        X = X << 1
        X += 1
        # length += 1

print(X)